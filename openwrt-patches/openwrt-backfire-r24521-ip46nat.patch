Index: target/linux/brcm47xx/config-2.6.32
===================================================================
--- target/linux/brcm47xx/config-2.6.32	(wersja 24521)
+++ target/linux/brcm47xx/config-2.6.32	(kopia robocza)
@@ -1,7 +1,6 @@
-
 CONFIG_32BIT=y
 # CONFIG_64BIT is not set
-# CONFIG_ALCHEMY_GPIO_INDIRECT is not set                                                          
+# CONFIG_ALCHEMY_GPIO_INDIRECT is not set
 # CONFIG_AR7 is not set
 # CONFIG_ARCH_HAS_ILOG2_U32 is not set
 # CONFIG_ARCH_HAS_ILOG2_U64 is not set
@@ -11,33 +10,31 @@
 CONFIG_ARCH_SUPPORTS_OPROFILE=y
 CONFIG_ARCH_SUSPEND_POSSIBLE=y
 # CONFIG_ARPD is not set
-CONFIG_B44_PCI_AUTOSELECT=y
-CONFIG_B44_PCICORE_AUTOSELECT=y
-CONFIG_B44_PCI=y
 CONFIG_B44=y
-CONFIG_BCM47XX_WDT=y
+CONFIG_B44_PCI=y
+CONFIG_B44_PCICORE_AUTOSELECT=y
+CONFIG_B44_PCI_AUTOSELECT=y
 CONFIG_BCM47XX=y
+CONFIG_BCM47XX_WDT=y
 # CONFIG_BCM63XX is not set
-# CONFIG_BINARY_PRINTF is not set
 CONFIG_BITREVERSE=y
 # CONFIG_BSD_PROCESS_ACCT is not set
 # CONFIG_CAVIUM_OCTEON_REFERENCE_BOARD is not set
 # CONFIG_CAVIUM_OCTEON_SIMULATOR is not set
-CONFIG_CEVT_R4K_LIB=y
 CONFIG_CEVT_R4K=y
+CONFIG_CEVT_R4K_LIB=y
 CONFIG_CFE=y
+CONFIG_CFG80211_DEFAULT_PS_VALUE=0
 CONFIG_CMDLINE="root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200"
 # CONFIG_CPU_BIG_ENDIAN is not set
 # CONFIG_CPU_CAVIUM_OCTEON is not set
-CONFIG_CPU_HAS_LLSC=y
 CONFIG_CPU_HAS_PREFETCH=y
 CONFIG_CPU_HAS_SYNC=y
 CONFIG_CPU_LITTLE_ENDIAN=y
 # CONFIG_CPU_LOONGSON2E is not set
-# CONFIG_CPU_LOONGSON2 is not set
+CONFIG_CPU_MIPS32=y
 CONFIG_CPU_MIPS32_R1=y
 # CONFIG_CPU_MIPS32_R2 is not set
-CONFIG_CPU_MIPS32=y
 # CONFIG_CPU_MIPS64_R1 is not set
 # CONFIG_CPU_MIPS64_R2 is not set
 CONFIG_CPU_MIPSR1=y
@@ -59,23 +56,16 @@
 # CONFIG_CPU_TX39XX is not set
 # CONFIG_CPU_TX49XX is not set
 # CONFIG_CPU_VR41XX is not set
-CONFIG_CRYPTO_AEAD2=y
-CONFIG_CRYPTO_BLKCIPHER2=y
-CONFIG_CRYPTO_HASH2=y
-CONFIG_CRYPTO_MANAGER2=y
-CONFIG_CRYPTO_RNG2=y
-CONFIG_CRYPTO_WORKQUEUE=y
-CONFIG_CSRC_R4K_LIB=y
 CONFIG_CSRC_R4K=y
+CONFIG_CSRC_R4K_LIB=y
 CONFIG_DECOMPRESS_LZMA=y
 CONFIG_DEVPORT=y
-CONFIG_DM_LOG_USERSPACE=n
 # CONFIG_DM9000 is not set
 CONFIG_DMA_NEED_PCI_MAP_STATE=y
 CONFIG_DMA_NONCOHERENT=y
 # CONFIG_FSNOTIFY is not set
-CONFIG_GENERIC_CLOCKEVENTS_BUILD=y
 CONFIG_GENERIC_CLOCKEVENTS=y
+CONFIG_GENERIC_CLOCKEVENTS_BUILD=y
 CONFIG_GENERIC_CMOS_UPDATE=y
 CONFIG_GENERIC_FIND_LAST_BIT=y
 CONFIG_GENERIC_FIND_NEXT_BIT=y
@@ -87,22 +77,24 @@
 CONFIG_HAS_IOMEM=y
 CONFIG_HAS_IOPORT=y
 CONFIG_HAVE_ARCH_KGDB=y
-# CONFIG_HAVE_GENERIC_DMA_COHERENT is not set
 CONFIG_HAVE_GENERIC_DMA_COHERENT=y
 CONFIG_HAVE_IDE=y
-CONFIG_HAVE_MLOCK=y
 CONFIG_HAVE_OPROFILE=y
 CONFIG_HW_HAS_PCI=y
 CONFIG_HW_RANDOM=y
-# CONFIG_HZ_100 is not set
 CONFIG_HZ=250
+# CONFIG_HZ_100 is not set
 CONFIG_HZ_250=y
+CONFIG_INET6_TUNNEL=m
+CONFIG_INET_TUNNEL=m
 CONFIG_INITRAMFS_SOURCE=""
+CONFIG_IPV6=m
+CONFIG_IPV6_SIT=m
+CONFIG_IPV6_TUNNEL=m
 # CONFIG_IP_ROUTE_VERBOSE is not set
 CONFIG_IRQ_CPU=y
 CONFIG_KALLSYMS=y
 CONFIG_LEDS_GPIO=y
-# CONFIG_LEMOTE_FULONG is not set
 # CONFIG_MACH_ALCHEMY is not set
 # CONFIG_MACH_DECSTATION is not set
 # CONFIG_MACH_JAZZ is not set
@@ -111,6 +103,7 @@
 # CONFIG_MACH_TX49XX is not set
 # CONFIG_MACH_VR41XX is not set
 # CONFIG_MIKROTIK_RB532 is not set
+CONFIG_MIPS=y
 # CONFIG_MIPS_COBALT is not set
 CONFIG_MIPS_L1_CACHE_SHIFT=5
 # CONFIG_MIPS_MACHINE is not set
@@ -119,7 +112,6 @@
 # CONFIG_MIPS_MT_SMP is not set
 # CONFIG_MIPS_MT_SMTC is not set
 # CONFIG_MIPS_SIM is not set
-CONFIG_MIPS=y
 CONFIG_MTD_BCM47XX=y
 # CONFIG_NO_IOPORT is not set
 # CONFIG_NXP_STB220 is not set
@@ -132,7 +124,6 @@
 # CONFIG_PMC_YOSEMITE is not set
 # CONFIG_PNX8550_JBS is not set
 # CONFIG_PNX8550_STB810 is not set
-# CONFIG_PROBE_INITRD_HEADER is not set
 # CONFIG_PROC_KCORE is not set
 CONFIG_SCHED_OMIT_FRAME_POINTER=y
 # CONFIG_SCSI_DMA is not set
@@ -153,32 +144,29 @@
 # CONFIG_SIBYTE_RHONE is not set
 # CONFIG_SIBYTE_SENTOSA is not set
 # CONFIG_SIBYTE_SWARM is not set
-# CONFIG_SLOW_WORK is not set
+CONFIG_SSB=y
 CONFIG_SSB_B43_PCI_BRIDGE=y
+CONFIG_SSB_BLOCKIO=y
 CONFIG_SSB_DEBUG=y
 CONFIG_SSB_DRIVER_EXTIF=y
 CONFIG_SSB_DRIVER_GIGE=y
 CONFIG_SSB_DRIVER_MIPS=y
-CONFIG_SSB_DRIVER_PCICORE_POSSIBLE=y
 CONFIG_SSB_DRIVER_PCICORE=y
+CONFIG_SSB_DRIVER_PCICORE_POSSIBLE=y
 CONFIG_SSB_EMBEDDED=y
 CONFIG_SSB_PCICORE_HOSTMODE=y
-CONFIG_SSB_PCIHOST_POSSIBLE=y
 CONFIG_SSB_PCIHOST=y
+CONFIG_SSB_PCIHOST_POSSIBLE=y
 CONFIG_SSB_SERIAL=y
 CONFIG_SSB_SPROM=y
-CONFIG_SSB=y
 CONFIG_SYS_HAS_CPU_MIPS32_R1=y
 CONFIG_SYS_SUPPORTS_32BIT_KERNEL=y
 CONFIG_SYS_SUPPORTS_ARBIT_HZ=y
 CONFIG_SYS_SUPPORTS_LITTLE_ENDIAN=y
 # CONFIG_TC35815 is not set
-CONFIG_TRACING_SUPPORT=y
 CONFIG_TRAD_SIGNALS=y
 # CONFIG_TREE_PREEMPT_RCU is not set
 CONFIG_TREE_RCU=y
-CONFIG_USB_EHCI_HCD_SSB=y
-CONFIG_USB_OHCI_HCD_SSB=y
 CONFIG_USB_SUPPORT=y
 CONFIG_WATCHDOG_NOWAYOUT=y
 CONFIG_ZONE_DMA_FLAG=0
Index: package/kernel/modules/netsupport.mk
===================================================================
--- package/kernel/modules/netsupport.mk	(wersja 24521)
+++ package/kernel/modules/netsupport.mk	(kopia robocza)
@@ -661,3 +661,16 @@
 
 $(eval $(call KernelPackage,pktgen))
 
+define KernelPackage/ip46nat
+  SUBMENU:=$(NETWORK_SUPPORT_MENU)
+  TITLE:=IPv4-IPv6 translator
+  DEPENDS:= @LINUX_2_6
+  KCONFIG:= CONFIG_IP46_NAT
+  FILES:= $(LINUX_DIR)/net/ipv6/ip46nat.$(LINUX_KMOD_SUFFIX)
+endef
+
+define KernelPackage/ip46nat/description
+ Kernel modules for IPv4-IPv6 NAT
+endef
+
+$(eval $(call KernelPackage,ip46nat))
